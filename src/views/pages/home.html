<script>
  document.addEventListener('DOMContentLoaded', () => {
    // Scroll to Top Button Logic
    const button = document.getElementById('scroll-top-button');
    window.addEventListener('scroll', function () {
      if (window.scrollY > 400) {
        button.classList.remove('hidden');
      } else {
        button.classList.add('hidden');
      }
    });

    button.addEventListener('click', () => {
      scrollToTop();
    });

    function scrollToTop() {
      window.scrollTo({
        top: 0,
        behavior: 'smooth',
      });
    }

    // Highlight Navigation Links Logic
    const sections = document.querySelectorAll('[id]');
    const navLinks = document.querySelectorAll('.navigation-link');

    const handleScroll = () => {
      let lastActiveLink = null;

      sections.forEach((section) => {
        const rect = section.getBoundingClientRect();
        const link = document.querySelector(`.navigation-link[href="#${section.id}"]`);

        if (link) { // Ensure the link exists
          if (rect.top <= 150 && rect.bottom > 0) {
            // Section is active
            link.classList.add('text-white', 'font-extrabold', 'underline');
            lastActiveLink = link;
          } else {
            // Remove highlight only if fully scrolled past
            link.classList.remove('text-white', 'font-extrabold', 'underline');
          }
        }
      });

      // Ensure the last active link remains highlighted
      if (lastActiveLink) {
        navLinks.forEach((link) => {
          if (link !== lastActiveLink) {
            link.classList.remove('text-white', 'font-extrabold', 'underline');
          }
        });
      }
    };

    // Smooth scrolling for navigation links
    navLinks.forEach(link => {
      link.addEventListener('click', (event) => {
        event.preventDefault(); // Prevent default anchor click behavior
        const targetId = link.getAttribute('href').substring(1); // Get the target ID
        const targetElement = document.getElementById(targetId); // Find the target element

        if (targetElement) {
          const headerOffset = 110; // Adjust this value based on your sticky header height
          const elementPosition = targetElement.getBoundingClientRect().top;
          const offsetPosition = elementPosition + window.pageYOffset - headerOffset;

          window.scrollTo({
            top: offsetPosition,
            behavior: 'smooth' // Smooth scroll
          });
        }
      });
    });

    window.addEventListener('scroll', handleScroll);
    handleScroll(); // Run initially to set the correct highlight on page load
  });
</script>

<button id="scroll-top-button" title="scroll to top" class="fixed bottom-5 right-5 hidden btn btn-sm btn-neutral opacity-30 rounded-full hover:opacity-100 ring-white ring-1 z-10 btn-circle transition-all duration-300 ease-in-out transform hover:scale-110">
	<svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 24 24">
		<path fill="currentColor"
			d="m11 8.8l-2.9 2.9q-.275.275-.7.275t-.7-.275t-.275-.7t.275-.7l4.6-4.6q.3-.3.7-.3t.7.3l4.6 4.6q.275.275.275.7t-.275.7t-.7.275t-.7-.275L13 8.8V17q0 .425-.288.713T12 18t-.712-.288T11 17z" />
	</svg>
</button>

<div class="p-10 bg-gradient-to-r from-[#205372] to-[#3790ad] text-white">
  <div class="mx-auto max-w-5xl w-full">
    <h2 class="text-3xl font-semibold">Find SMS mail address of a phone number</h2>
    <p>Don’t just wonder, uncover it</p>
  </div>
</div>

<div class="p-10">
  <div class="mx-auto max-w-5xl w-full">
    <p class="mb-5">These addresses are pretty simple—they’re usually a 10-digit phone number followed by your mobile carrier’s domain name, like this:</p>
    <pre class="mb-5 p-3 w-fit bg-neutral-800 rounded">1234567890@carrierdomainname.com</pre>
    <p class="mb-5">You probably already know the phone number part, but if you’re missing the domain name, don’t worry—we’ve got a list of common ones below.</p>
    <p class="mb-5 p-3 w-fit bg-neutral-800 rounded">Please note that the data we provide is sourced from multiple platforms, and while we strive for accuracy, there might be some duplication or slight inaccuracies in the information.</p>
    <p>Carriers are listed in alphabetical order, so just click on a letter to jump to the one you need.</p>
  </div>
</div>

<div class="mx-auto max-w-5xl w-full py-10 bg-[#191919] border border-x-0 border-b-0 border-t-[#101010] sticky top-0 z-20">
  <div class="absolute top-0 left-0 w-full border-t-[1px] border-[#222222]" aria-hidden="true"></div>
  <div class="px-10 lg:px-0 mx-auto max-w-5xl w-full flex gap-5 lg:justify-between flex-wrap">
    <% for (let i=0; i < carriers.keys.length; i++) { %>
      <a href="#<%= carriers.keys[i] %>" class="navigation-link hover:text-white hover:underline font-medium text-2xl transition-all duration-300 ease-out transform hover:scale-125"><%= carriers.keys[i] %></a>
    <% } %>
  </div>
</div>

<div class="mx-auto max-w-5xl w-full py-10 bg-[#191919] border border-x-0 border-b-0 border-t-[#101010] relative">
  <div class="absolute top-0 left-0 w-full border-t-[1px] border-[#222222]" aria-hidden="true"></div>
  <div class="mx-auto max-w-5xl w-full flex flex-col gap-5">
    <% for (let i= 0; i < carriers.keys.length; i++) { %>
      <div id="<%= carriers.keys[i] %>">
        <div class="mb-5 sticky top-[110px] z-10 bg-[#191919] flex flex-col gap-5 scroll-mt-[500px]">
          <h3 class="text-2xl font-medium px-10 lg:px-0"><%= carriers.keys[i] %></h3>
          <div aria-hidden="true">
            <div class="-bottom-[19px] left-0 w-full border-b-[1px] border-[#101010]"></div>
            <div class="-bottom-[20px] left-0 w-full border-b-[1px] border-[#222222]"></div>
          </div>
        </div>
        <% if (carriers.data[carriers.keys[i]] && carriers.data[carriers.keys[i]].length > 0) { %>
          <% for (let j= 0; j < carriers.data[carriers.keys[i]].length; j++) { %>
            <div class="mb-5 px-10 lg:px-0">
              <p class="text-lg font-semibold"><%= carriers.data[carriers.keys[i]][j].name %></p>
              <ul class="pl-5">
                <% for (let k= 0; k < carriers.data[carriers.keys[i]][j].emails.length; k++) { %>
                  <li class="text-[#8a8a8a]"><%= carriers.data[carriers.keys[i]][j].emails[k] %></li>
                <% } %>
              </ul>
            </div>
          <% } %>
        <% } else { %>
          <div class="px-10 lg:px-0 mb-5 text-[#8a8a8a] italic">No carriers found in this section</div>
        <% } %>
      </div>
    <% } %>
  </div>
</div>
